---
layout:     post
title:      "来配置OpenGL啦"
subtitle:   "开始图形学课程的第一步"
date:       2020-7-6
author:     "Burt"
header-img: "img/in-post/Camera/Camera-bg.jpg"
tags:
    - OpenGL
---


## 妈蛋

网上的教程试了几次都不成功，最后在结合不同的教程终于是摸索出来了

---



### 1、预先事项

- IDE：Visual Studio 2017 Community
- 编译源码工具：CMake
- 源代码：FreeGlut

我们需要CMke编译FreeGlut源码，编译出来的即是一个OpenGL框架，然后在vs2017里新建项目，引用编译后的FreeGlut即可



### 2、步骤

1. FreeGlut下载好后解压出来，使用CMake编译

   1. 打开CMake里的cmake-gui.exe，**开始编译工作**

      ![CMake Gui](/img/in-post/OpenGL/OpenGLSpec1.png)

      where is the source code选择解压FreeGLUT后的目录。
   where to build the binaries是即将生成的文件存放的路径

   2. 之后点击左下角Configure

   3. 弹出来的窗口，选择合适的ide版本和系统，其他默认，然后finish

   4. 之后窗口消失，点击Configure右边的Generate，等待编译完成

2. 之后点击Generate旁边的Open Project，或者找你的where to build the binaries里的sln文件，用vs打开，此时打开的就是编译好的FreeGlut，**开始配置FreeGLUT**

   1. 工程右边的解决方案资源管理器

      ![解决方案](/img/in-post/OpenGL/OpenGLSpec2.png)

      分别在Release模式和Debug模式下，在蓝色地方右键生成解决方案

      ![生成](/img/in-post/OpenGL/OpenGLSpec3.png)
      
   2. 将where is the source code\include下的GL文件加copy到VS2017的安装目录下的VC文件
   
   3. where to build the binaries的
   
      - bin\Release\freeglut.dll拷贝至C:\Windows\system32根目录下
      - bin\Debug\freeglutd.dll拷贝至‪C:\Windows\SysWOW64根目录下
      - lib\Release下的freeglut.lib、freeglut_static.lib和lib\Debug下的freeglutd.lib、freeglut_staticd.lib移动到D:\visual.studio2017\VC\lib\x64根目录下
   
      至此FreeGLUT配置完成
   
3. 新建项目，引用FreeGLUT

   1. 在自建项目，比如叫MyOpenGL，项目右键属性

      ![预处理器定义](/img/in-post/OpenGL/OpenGLSpec4.png)

      在其后加入NDEBUG，我这是加了后截图的。

   2. 在头文件新建cpp，测试一下

      ~~~c
      #include <GL\freeglut.h>
      
      void myDisplay(void)
      {
      	glClear(GL_COLOR_BUFFER_BIT);
      	glRectf(-0.5f, -0.5f, 0.5f, 0.5f);
      	glFlush();
      }
      
      int main(int argc, char *argv[])
      {
      	glutInit(&argc, argv);
      	glutInitDisplayMode(GLUT_RGB | GLUT_SINGLE);
      	glutInitWindowPosition(100, 100);
      	glutInitWindowSize(400, 400);
      	glutCreateWindow("第一个OpenGL程序");
      	glutDisplayFunc(&myDisplay);
      	glutMainLoop();
      	return 0;
      }
      ~~~

      到这里应该会出现一个窗口，恭喜，完成FreeGLUT配置



Reference：

1. https://blog.csdn.net/sixdaycoder/article/details/66975126
2. https://blog.csdn.net/renkai0406/article/details/80051342



​      

