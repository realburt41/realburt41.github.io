---
layout:     post
title:      "3D数学"
subtitle:   "学到头发没有为止！"
date:       2020-2-16
author:     "Burt"
catalog: false
header-img: "img/in-post/Math/Math-bg.jpg"
mathjax: true
header-mask: 0.3
tags:
    - Math
---



## 前言

矩阵，向量，四元数



## 一、向量

#### 1.模

模代表向量的长度，模只有正数没有负数

公式：$V_{abs} = \sqrt{(v_1)^2+(v_2)^2+...+(v_n)^2}$

例：A（3，4，5），则 $A_{abs} = \sqrt{3^2+4^2+5^2} = 5\sqrt{2}$

#### 2.特殊向量：

1. 零向量（0，0，0）：它是唯一没有方向的向量，但他不是一个点，只是没有位移

2. 单位向量：也叫标准化向量。即只关心方向不关心大小，模为1的向量。

   公式：$V_{nor} = V \div V_{abs}$

例：$A_{nor}(12,-5) = \frac{(12,-5)} {\sqrt{12^2+(-5)^2}} = (0.923，-0.385)$

**PS**：

1. 向量在图中的位置无关紧要，只有大小和方向才是最重要的
2. 数学中专门研究向量的分支叫**线性代数**
3. 个人认为：2/3维向量既表示**所在位置**，又表示**方向**以及**位移大小**

### 二、运算

#### 1.点乘/积（Dot）

A（a1，a2，a3），B（b1，b2，b3）

$A \cdot B = a_{1} \cdot b_{1} + a_{2} \cdot b_{2} + a_{3} \cdot b_{3}$

或者

$A \cdot B = A_{abs} \cdot B_{abs} \cdot \cos\theta$

可以看出他的结果是**标量**

几何解释：

​	点乘结果描述的是两个向量的相似程度，即点乘结果越大，则两向量越相近

| A **·** B |        θ        |     A与B     |
| :-------: | :-------------: | :----------: |
|    >0     |  0o <= θ < 90o  | 方向基本相同 |
|     0     |    0 <= 90o     |     垂直     |
|    <0     | 90o < θ <= 108o | 方向基本相反 |

所以我们可以用向量来表一个物体在我们的什么方向

```
//在自身的前后，返回值为正则在前方，反之后方
Vector3.Dot(Transform.forward,target.position-tranform.position)
    
//在自身左右，返回值为正则在右方，反之左方
Vector3.Dot(Transform.right,target.position-tranform.position)
    
//在自身上下，返回值为正则在上方，反之下方
Vector3.Dot(Transform.up,target.position-tranform.position)
```

**PS**

- $\theta = \arccos \frac{A \cdot B}{A_{abs} \cdot B_{abs}}$
- $A \cdot B = A_{abs} \cdot B_{abs} \cdot \cos\theta$
- 向量大小并不影响点乘结果的符号。
- 零向量与任何向量的点乘都是0，所以可以看作零向量与任何向量都垂直



#### 2.叉乘/积（Cross）

这个运算只可以用于3D向量

A（a1，a2，a3），B（b1，b2，b3）

A **×** B =  （a2 **·** b3  - a3 **·** b2 ，a3 **·** b1 - a1 **·** b3 ，a1 **·** b2 - a2 **·** b1 ）

叉积得到另一个向量，不满足交换律，但是满足反交换律，即 A **×** B = -（A **×** B）

几何解释：

​	叉积得到的向量垂直于原来两个向量

叉积最重要的应用就是创建垂直于平面、三角形或多边形的向量，即法线。

**PS**：

- 如果叉积和点积同在一条算式中，叉积优先级较高
- $(A \times B)_{abs} = A_{abs} \times B_{abs} \times \sin\theta$
- 零向量与叉积平行



## **扩展** 

### 一、线性代数公式

1. A **·**（B + C） = A **·** B + A **·** C
2. A **×**（B + C） = A **×** B + A **×** C
3. A **×** A = 0（任何向量与自身叉积等于0）
4. A **×** B = -（B **×** A） = -B × -A
5. k（A **×** B）= kA × B = A × kB
6. A **·**（A **×** B）= 0（向量与另一向量的叉积在点积该向量本身等于0）



## **References** 

1、《3D数学基础：图形与游戏开发》

待续...